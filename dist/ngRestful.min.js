!function(){var t=angular.module("ngRestful",[]);t.config(["$httpProvider",function(t){t.defaults.useXDomain=!0}]),t.constant("ngRestful",{$domain:"",$headers:{},setDomain:function(t){this.$domain=t},setHeader:function(t,e){this.$headers[t]=e}}),t.factory("$resource",["$restful","ngRestful",function(t,e){function r(t,r){if(void 0!==t&&!angular.isString(t))throw new Error("url in constructor is not a valid value.");e.$domain&&!n(t)?this.$url=[e.$domain,t].join("/"):this.$url=t,this.$config=r||{}}function n(t){return null!==t.match(/^(https:\/\/|http:\/\/|\/\/).+/g)}function i(t,e){for(p in e)t=t.replace(":"+p,e[p]);return t}return r.prototype.fetch=function(e){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=i(e[0],e[1]));var r=e?[this.$url,e].join("/"):this.$url;return t.get(r,this.$config)},r.prototype.save=function(e,r){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=i(e[0],e[1]));var n=e?[this.$url,e].join("/"):this.$url;return t.post(n,r,this.$config)},r.prototype.update=function(e,r){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=i(e[0],e[1]));var n=e?[this.$url,e].join("/"):this.$url;return t.put(n,r,this.$config)},r.prototype.delete=function(e,r){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=i(e[0],e[1]));var n=e?[this.$url,e].join("/"):this.$url;return t.delete(n,r,this.$config)},r}]),t.service("$restful",["$http","ngRestful",function(t,e){this.get=function(e,r){return t(this.$createRequest({},"GET",e,r))},this.post=function(e,r,n){return t(this.$createRequest(r,"POST",e,n))},this.put=function(e,r,n){return t(this.$createRequest(r,"PUT",e,n))},this.delete=function(e,r,n){return t(this.$createRequest(r,"DELETE",e,n))},this.$createRequest=function(t,r,n,i){i=this.$normalizeConfig(i);var o={url:n,method:r,data:t};if(Object.assign(o,i),void 0===o.headers&&(o.headers={}),Object.assign(o.headers,e.$headers),"GET"!=r&&this.hasFileObject(t)){var u=new FormData;for(prop in t)u.append(prop,t[prop]);o.headers["Content-Type"]=void 0,o.data=u,o.transformRequest=angular.identity}return o},this.hasFileObject=function(t){for(prop in t)if("[object File]"==Object.prototype.toString.call(t[prop]))return!0;return!1},this.$normalizeConfig=function(t){var e=["url","method","data"],r=t;return e.forEach(function(t){r.hasOwnProperty(t)&&delete r[t]}),r}}])}();
//# sourceMappingURL=ngRestful.min.js.map
