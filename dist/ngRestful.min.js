!function(){var t=angular.module("ngRestful",[]);t.config(["$httpProvider",function(t){t.defaults.useXDomain=!0}]),t.constant("ngRestful",{$domain:"",setDomain:function(t){this.$domain=t}}),t.factory("$resource",["$restful","ngRestful",function(t,e){function r(t,r){e.domain&&!n(t)?this.url=[e.domain,t].join("/"):this.$url=t,this.$headers=r?r.headers||{}:{}}function n(t){var e=/(https|http).+/g;return null!==t.match(e)}function o(t,e){for(p in e)t=t.replace(":"+p,e[p]);return t}return r.prototype.fetch=function(e){"[object Array]"==Object.prototype.toString.call(e)&&(e=o(e[0],e[1]));var r=[this.$url,e].join("/");return t.get(r,this.headers)},r.prototype.save=function(e,r){"[object Array]"==Object.prototype.toString.call(e)&&(e=o(e[0],e[1]));var n=[this.$url,e].join("/");return t.post(n,r,this.headers)},r.prototype.update=function(){"[object Array]"==Object.prototype.toString.call(path)&&(path=o(path[0],path[1]));var e=[this.$url,path].join("/");return t.put(e,data,this.headers)},r.prototype.delete=function(){"[object Array]"==Object.prototype.toString.call(path)&&(path=o(path[0],path[1]));var e=[this.$url,path].join("/");return t.delete(e,data,this.headers)},r}]),t.service("$restful",["$http",function(t){this.get=function(e,r){return t({method:"GET",url:e,headers:r||{}})},this.post=function(e,r,n){return t({method:"POST",url:e,data:r,headers:n||{}})},this.put=function(e,r,n){return t({method:"PUT",url:e,data:r,headers:n||{}})},this.delete=function(e,r,n){return t({method:"DELETE",url:e,data:r,headers:n||{}})}}])}();