!function(){var t=angular.module("ngRestful",[]);t.config(["$httpProvider",function(t){t.defaults.useXDomain=!0}]),t.constant("ngRestful",{$domain:"",setDomain:function(t){this.$domain=t}}),t.factory("$resource",["$restful","ngRestful",function(t,e){function r(t,r){if("undefined"!=typeof t&&!angular.isString(t))throw new Error("url in constructor is not a valid value.");e.$domain&&!n(t)?this.$url=[e.$domain,t].join("/"):this.$url=t,this.$config=r||{}}function n(t){var e=/^(https:\/\/|http:\/\/|\/\/).+/g;return null!==t.match(e)}function o(t,e){for(p in e)t=t.replace(":"+p,e[p]);return t}return r.prototype.fetch=function(e){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=o(e[0],e[1]));var r=e?[this.$url,e].join("/"):this.$url;return t.get(r,this.$config)},r.prototype.save=function(e,r){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=o(e[0],e[1]));var n=e?[this.$url,e].join("/"):this.$url;return t.post(n,r,this.$config)},r.prototype.update=function(e,r){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=o(e[0],e[1]));var n=e?[this.$url,e].join("/"):this.$url;return t.put(n,r,this.$config)},r.prototype.delete=function(e,r){e&&"[object Array]"==Object.prototype.toString.call(e)&&(e=o(e[0],e[1]));var n=e?[this.$url,e].join("/"):this.$url;return t.delete(n,r,this.$config)},r}]),t.service("$restful",["$http",function(t){this.get=function(e,r){return t(this.$createRequest({},"GET",e,r))},this.post=function(e,r,n){return t(this.$createRequest(r,"POST",e,n))},this.put=function(e,r,n){return t(this.$createRequest(r,"PUT",e,n))},this.delete=function(e,r,n){return t(this.$createRequest(r,"DELETE",e,n))},this.$createRequest=function(t,e,r,n){n=this.$normalizeConfig(n);var o={url:r,method:e,data:t};if(Object.assign(o,n),"GET"!=e&&this.hasFileObject(t)){var i=new FormData;for(prop in t)i.append(prop,t[prop]);"undefined"==typeof o.headers&&(o.headers={}),o.headers["Content-Type"]=void 0,o.data=i,o.transformRequest=angular.identity}return o},this.hasFileObject=function(t){for(prop in t)if("[object File]"==Object.prototype.toString.call(t[prop]))return!0;return!1},this.$normalizeConfig=function(t){var e=["url","method","data"],r=t;return e.forEach(function(t){r.hasOwnProperty(t)&&delete r[t]}),r}}])}();
//# sourceMappingURL=ngRestful.min.js.map
