!function(){var t=angular.module("ngRestful",[]);t.config(["$httpProvider",function(t){t.defaults.useXDomain=!0}]),t.constant("ngRestful",{$domain:"",setDomain:function(t){this.$domain=t}}),t.factory("$resource",["$restful","ngRestful",function(t,r){function e(t,e){r.$domain&&!n(t)?this.$url=[r.$domain,t].join("/"):this.$url=t,this.$headers=e?e.headers||{}:{}}function n(t){var r=/(https|http).+/g;return null!==t.match(r)}function o(t,r){for(p in r)t=t.replace(":"+p,r[p]);return t}return e.prototype.fetch=function(r){r&&"[object Array]"==Object.prototype.toString.call(r)&&(r=o(r[0],r[1]));var e=r?[this.$url,r].join("/"):this.$url;return t.get(e,this.headers)},e.prototype.save=function(r,e){r&&"[object Array]"==Object.prototype.toString.call(r)&&(r=o(r[0],r[1]));var n=r?[this.$url,r].join("/"):this.$url;return t.post(n,e,this.headers)},e.prototype.update=function(r,e){r&&"[object Array]"==Object.prototype.toString.call(r)&&(r=o(r[0],r[1]));var n=r?[this.$url,r].join("/"):this.$url;return t.put(n,e,this.headers)},e.prototype.delete=function(r,e){r&&"[object Array]"==Object.prototype.toString.call(r)&&(r=o(r[0],r[1]));var n=r?[this.$url,r].join("/"):this.$url;return t.delete(n,e,this.headers)},e}]),t.service("$restful",["$http",function(t){this.get=function(r,e){return t({method:"GET",url:r,headers:e||{}})},this.post=function(r,e,n){return t({method:"POST",url:r,data:e,headers:n||{}})},this.put=function(r,e,n){return t({method:"PUT",url:r,data:e,headers:n||{}})},this.delete=function(r,e,n){return t({method:"DELETE",url:r,data:e,headers:n||{}})}}])}();